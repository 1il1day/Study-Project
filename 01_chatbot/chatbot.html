<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>말 안듣는 챗봇</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/chatbot.css">
    <script src="js/type.js"></script>
</head>
<body>
    <div class="chat-bot">
        <strong id="cat-console">코딩핸냥</strong>
        <p><img src="./img/768px-Ei-sc-github.svg.png" alt="github-cat"></p>
        <input type="text" id="input-box" class="input-style">
        <button onclick="input()">시키기</button>
    </div>
    <div id="typing"></div>

    <script>
        let n=0;
        let follow=0;

        function input(){
            let inputTxt = document.querySelector('#input-box').value;
            let inputBox = document.querySelector('#input-box');
            let catTxt = document.querySelector('#cat-console');
            let btn = document.querySelector('button');
            let body = document.querySelector('body');
            let typing = document.querySelector('#typing');
            
            if(inputTxt=="불꺼줘"){
                if(n==0){
                    catTxt.innerHTML = "냥 ? 냥?";
                    n+=1;
                    typingAni();
                }else if(n==1){
                    catTxt.innerHTML = "캬앙!";
                    inputBox.style.backgroundColor = '#333';
                    n+=1;
                    typingAni();
                }else{
                    catTxt.innerHTML = "냥!";
                    catTxt.style.color = '#333';
                    body.style.backgroundColor = '#333';
                    inputBox.style.backgroundColor = '#fff';
                    catTxt.style.backgroundColor = '#fff';
                }
            }
            
            if(follow==1){ //follow = 1인 경우
                catTxt.innerHTML = inputTxt+"냥!";
                if(inputTxt=="그만"){
                    catTxt.innerHTML = "냐앙..";
                    follow=0;
                    console.log(follow);
                }
            }else{ //follow = 0인 경우
                if(inputTxt=="나 따라해봐"){
                    follow=1;
                    catTxt.innerHTML = "냥냥!";
                    console.log(follow);
                }
            }
        }

        function typingAni(){
            var typewriter = new Typewriter(typing, {
                loop: false
            });
            typewriter
            .pauseFor(1000)
            .typeString('다시 한번 말해볼까?')
            .pauseFor(2500)
            .deleteAll()
            .start();
        }
        


        
    </script>
</body>
</html>